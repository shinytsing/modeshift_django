# 🔐 GitHub Secrets 完整配置指南

## 📋 配置清单

根据你提供的信息，以下是需要在GitHub仓库中配置的所有Secrets：

### 🖥️ 服务器连接配置

```
SERVER_HOST=47.103.143.152
SERVER_USER=root
SERVER_PORT=22
```

```
SERVER_SSH_KEY=-----BEGIN OPENSSH PRIVATE KEY-----
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
-----END OPENSSH PRIVATE KEY-----
```

### 📧 邮件通知配置

```
EMAIL_USERNAME=gj00forwork@gmail.com
EMAIL_PASSWORD=c9d5&b5z
```

### 🔑 API密钥配置

```
DEEPSEEK_API_KEY=your_actual_deepseek_api_key_here
```

### 🌐 其他API密钥（需要你提供）

```
GOOGLE_API_KEY=<你的Google API密钥>
GOOGLE_CSE_ID=<你的Google搜索引擎ID>
OPENWEATHER_API_KEY=<你的天气API密钥>
```

## 📝 GitHub配置步骤

### 1. 进入GitHub仓库设置
1. 打开 https://github.com/shinytsing/QAToolBox
2. 点击 `Settings` 标签
3. 在左侧菜单找到 `Secrets and variables` → `Actions`

### 2. 添加Secrets
点击 `New repository secret` 按钮，逐个添加以下secrets：

#### ✅ 服务器连接（必需）
- **Name**: `SERVER_HOST`
- **Value**: `47.103.143.152`

- **Name**: `SERVER_USER`  
- **Value**: `root`

- **Name**: `SERVER_PORT`
- **Value**: `22`

- **Name**: `SERVER_SSH_KEY`
- **Value**: （复制上面完整的SSH私钥内容，包括BEGIN和END行）

#### ✅ 邮件通知（必需）
- **Name**: `EMAIL_USERNAME`
- **Value**: `gj00forwork@gmail.com`

- **Name**: `EMAIL_PASSWORD`
- **Value**: `c9d5&b5z`

#### ✅ API密钥（必需）
- **Name**: `DEEPSEEK_API_KEY`
- **Value**: `your_actual_deepseek_api_key_here`

#### ❓ 其他API密钥（可选）
如果你有这些API密钥，也可以添加：

- **Name**: `GOOGLE_API_KEY`
- **Value**: `<你的Google API密钥>`

- **Name**: `GOOGLE_CSE_ID`
- **Value**: `<你的Google搜索引擎ID>`

- **Name**: `OPENWEATHER_API_KEY`
- **Value**: `<你的天气API密钥>`

## 🧪 测试配置

配置完成后，可以通过以下方式测试：

### 1. 手动触发CI流程
```bash
# 创建一个测试分支
git checkout develop
git checkout -b feature/test-ci
echo "# Test CI" > test.md
git add test.md
git commit -m "test: 测试CI流程"
git push origin feature/test-ci
```

### 2. 手动触发CD流程
1. 进入 GitHub Actions
2. 选择 "CD - 持续交付"
3. 点击 "Run workflow"
4. 选择环境: staging
5. 点击运行

### 3. 检查邮件通知
查看 1009383129@qq.com 邮箱是否收到CI/CD报告邮件

## ✅ 配置验证清单

- [ ] SSH连接测试：`ssh -i ~/.ssh/qatoolbox_deploy root@47.103.143.152`
- [ ] GitHub Secrets已添加：SERVER_HOST, SERVER_USER, SERVER_SSH_KEY
- [ ] 邮件配置已添加：EMAIL_USERNAME, EMAIL_PASSWORD  
- [ ] API密钥已添加：DEEPSEEK_API_KEY
- [ ] CI流程测试：推送到develop分支
- [ ] CD流程测试：手动触发部署
- [ ] 邮件通知测试：检查1009383129@qq.com邮箱

## 🎯 下一步

配置完成后：

1. **推送代码到main分支** → 自动触发CD-持续部署
2. **推送代码到develop分支** → 自动触发CI流程
3. **创建PR** → 自动运行CI检查
4. **手动部署** → 使用CD-持续交付工作流

所有操作都会自动发送详细报告到 1009383129@qq.com！

## 🔐 安全提醒

- SSH私钥仅用于部署，请勿泄露
- 邮件密码建议使用应用专用密码
- API密钥请定期更换
- 定期检查GitHub Secrets的使用情况
