{% extends 'tools/base_tool.html' %}
{% load static %}

{% block tool_title_inner %}éŸ³ä¹ç–—æ„ˆå®¤ - è®©éŸ³ä¹æŠšæ…°å¿ƒçµ{% endblock %}
{% block tool_title_display %}éŸ³ä¹ç–—æ„ˆå®¤ - è®©éŸ³ä¹æŠšæ…°å¿ƒçµ{% endblock %}

{% block tool_content %}
<div class="music-healing-container">
    <div class="healing-header">
        <h1><i class="fas fa-music"></i> éŸ³ä¹ç–—æ„ˆå®¤</h1>
        <p class="healing-subtitle">è®©éŸ³ä¹æŠšæ…°å¿ƒçµï¼Œæ‰¾åˆ°å†…å¿ƒçš„å¹³é™</p>
    </div>

    <div class="healing-content">
        <!-- å¿ƒæƒ…é€‰æ‹© -->
        <div class="mood-selector">
            <h3><i class="fas fa-heart"></i> é€‰æ‹©å½“å‰å¿ƒæƒ…</h3>
            <div class="mood-grid">
                <div class="mood-card" data-mood="sad">
                    <div class="mood-icon">ğŸ˜¢</div>
                    <div class="mood-name">éš¾è¿‡</div>
                </div>
                <div class="mood-card" data-mood="anxious">
                    <div class="mood-icon">ğŸ˜°</div>
                    <div class="mood-name">ç„¦è™‘</div>
                </div>
                <div class="mood-card" data-mood="angry">
                    <div class="mood-icon">ğŸ˜ </div>
                    <div class="mood-name">æ„¤æ€’</div>
                </div>
                <div class="mood-card" data-mood="lonely">
                    <div class="mood-icon">ğŸ˜”</div>
                    <div class="mood-name">å­¤ç‹¬</div>
                </div>
                <div class="mood-card" data-mood="tired">
                    <div class="mood-icon">ğŸ˜´</div>
                    <div class="mood-name">ç–²æƒ«</div>
                </div>
                <div class="mood-card" data-mood="happy">
                    <div class="mood-icon">ğŸ˜Š</div>
                    <div class="mood-name">å¼€å¿ƒ</div>
                </div>
            </div>
        </div>

        <!-- éŸ³ä¹æ¨è -->
        <div class="music-recommendations">
            <h3><i class="fas fa-list"></i> æ¨èéŸ³ä¹</h3>
            <div class="recommendations-grid" id="recommendationsGrid">
                <p style="text-align: center; opacity: 0.7;">è¯·å…ˆé€‰æ‹©å¿ƒæƒ…</p>
            </div>
        </div>

        <!-- ç–—æ„ˆæ•ˆæœ -->
        <div class="healing-effects">
            <h3><i class="fas fa-spa"></i> ç–—æ„ˆæ•ˆæœ</h3>
            <div class="effects-grid">
                <div class="effect-card">
                    <div class="effect-icon">ğŸ§˜â€â™€ï¸</div>
                    <div class="effect-title">æ”¾æ¾èº«å¿ƒ</div>
                </div>
                <div class="effect-card">
                    <div class="effect-icon">ğŸ’</div>
                    <div class="effect-title">æƒ…æ„Ÿå…±é¸£</div>
                </div>
                <div class="effect-card">
                    <div class="effect-icon">ğŸŒŸ</div>
                    <div class="effect-title">æå‡å¿ƒæƒ…</div>
                </div>
                <div class="effect-card">
                    <div class="effect-icon">ğŸŒ™</div>
                    <div class="effect-title">æ”¹å–„ç¡çœ </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.music-healing-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    color: white;
}

.healing-header {
    text-align: center;
    margin-bottom: 30px;
}

.healing-header h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.healing-subtitle {
    font-size: 1.1rem;
    opacity: 0.9;
}

.healing-content > div {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 20px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.healing-content h3 {
    margin-bottom: 15px;
    font-size: 1.3rem;
    display: flex;
    align-items: center;
    gap: 10px;
}

.mood-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin-top: 15px;
}

.mood-card {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.mood-card:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-3px);
}

.mood-card.selected {
    background: rgba(255, 255, 255, 0.4);
    border-color: #fff;
}

.mood-icon {
    font-size: 3rem;
    margin-bottom: 10px;
}

.mood-name {
    font-size: 1.1rem;
    font-weight: 600;
}

.recommendations-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 15px;
    margin-top: 15px;
}

.music-item {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 15px;
    display: flex;
    align-items: center;
    gap: 15px;
}

.music-cover {
    width: 50px;
    height: 50px;
    background: linear-gradient(45deg, #667eea, #764ba2);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
}

.music-info {
    flex: 1;
}

.music-title {
    font-weight: 600;
    margin-bottom: 3px;
}

.music-artist {
    font-size: 0.9rem;
    opacity: 0.8;
}

.effects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-top: 15px;
}

.effect-card {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    transition: all 0.3s ease;
}

.effect-card:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

.effect-icon {
    font-size: 2.5rem;
    margin-bottom: 10px;
}

.effect-title {
    font-size: 1.1rem;
    font-weight: 600;
}
</style>

<script>
let currentMood = null;
const musicRecommendations = {
    sad: [
        { title: "æ¸©æŸ”å®‰æ…°", artist: "æ²»æ„ˆç³»éŸ³ä¹", cover: "ğŸ’™" },
        { title: "æ¸©æš–æ€€æŠ±", artist: "è½»æŸ”é’¢ç´", cover: "ğŸ¹" },
        { title: "å¿ƒçµæŠšæ…°", artist: "è‡ªç„¶éŸ³æ•ˆ", cover: "ğŸŒ¿" }
    ],
    anxious: [
        { title: "å®é™æ—¶å…‰", artist: "å†¥æƒ³éŸ³ä¹", cover: "ğŸ§˜â€â™€ï¸" },
        { title: "å¹³é™å‘¼å¸", artist: "ç™½å™ªéŸ³", cover: "ğŸŒŠ" },
        { title: "å†…å¿ƒå®‰å®", artist: "è½»éŸ³ä¹", cover: "ğŸµ" }
    ],
    angry: [
        { title: "é‡Šæ”¾å‹åŠ›", artist: "æ‘‡æ»šç–—æ„ˆ", cover: "ğŸ¸" },
        { title: "å¹³é™ä¸‹æ¥", artist: "å¤å…¸éŸ³ä¹", cover: "ğŸ»" },
        { title: "æƒ…ç»ªé‡Šæ”¾", artist: "ç”µå­éŸ³ä¹", cover: "ğŸ§" }
    ],
    lonely: [
        { title: "é™ªä¼´æ—¶å…‰", artist: "æ¸©æš–äººå£°", cover: "ğŸ¤" },
        { title: "ä¸å†å­¤å•", artist: "æ°‘è°£éŸ³ä¹", cover: "ğŸª" },
        { title: "å¿ƒçµå¯¹è¯", artist: "è½»éŸ³ä¹", cover: "ğŸ¼" }
    ],
    tired: [
        { title: "æ¢å¤èƒ½é‡", artist: "æ´»åŠ›éŸ³ä¹", cover: "âš¡" },
        { title: "è½»æ¾ä¼‘æ¯", artist: "è½»éŸ³ä¹", cover: "ğŸŒ™" },
        { title: "é‡æ–°å‡ºå‘", artist: "åŠ±å¿—éŸ³ä¹", cover: "ğŸŒŸ" }
    ],
    happy: [
        { title: "å¿«ä¹å»¶ç»­", artist: "æ¬¢å¿«éŸ³ä¹", cover: "ğŸ‰" },
        { title: "åˆ†äº«å–œæ‚¦", artist: "æµè¡ŒéŸ³ä¹", cover: "ğŸµ" },
        { title: "ç¾å¥½æ—¶å…‰", artist: "è½»å¿«èŠ‚å¥", cover: "ğŸ¶" }
    ]
};

document.addEventListener('DOMContentLoaded', function() {
    initializeMoodSelector();
});

function initializeMoodSelector() {
    const moodCards = document.querySelectorAll('.mood-card');
    moodCards.forEach(card => {
        card.addEventListener('click', function() {
            moodCards.forEach(c => c.classList.remove('selected'));
            this.classList.add('selected');
            currentMood = this.dataset.mood;
            updateRecommendations();
        });
    });
}

function updateRecommendations() {
    const recommendationsGrid = document.getElementById('recommendationsGrid');
    const tracks = musicRecommendations[currentMood];
    
    let html = '';
    tracks.forEach(track => {
        html += `
            <div class="music-item">
                <div class="music-cover">${track.cover}</div>
                <div class="music-info">
                    <div class="music-title">${track.title}</div>
                    <div class="music-artist">${track.artist}</div>
                </div>
            </div>
        `;
    });
    recommendationsGrid.innerHTML = html;
}
</script>
{% endblock %} 