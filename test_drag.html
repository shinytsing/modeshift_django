<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‹–æ‹½æµ‹è¯•</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <h1>èŠå¤©é€šçŸ¥æ‹–æ‹½æµ‹è¯•</h1>
    <p>æ£€æŸ¥æ§åˆ¶å°è¾“å‡ºï¼Œå°è¯•æ‹–æ‹½å›¾æ ‡ï¼š</p>
    <ul>
        <li>ğŸ”¥ çº¢è‰²åœ†åœˆï¼šç®€å•æ‹–æ‹½æµ‹è¯•</li>
        <li>ğŸ’¬ è“è‰²åœ†åœˆï¼šèŠå¤©é€šçŸ¥ç®¡ç†å™¨ï¼ˆå¦‚æœåŠ è½½æˆåŠŸï¼‰</li>
    </ul>
    
    <!-- æ¨¡æ‹Ÿç™»å½•çŠ¶æ€çš„CSRF token -->
    <input type="hidden" name="csrfmiddlewaretoken" value="test-token">
    
    <script src="/static/js/simple_drag_test.js"></script>
    <script src="/static/js/chat_notifications.js"></script>
    <script>
        // æ‰‹åŠ¨åˆå§‹åŒ–èŠå¤©é€šçŸ¥ç®¡ç†å™¨
        console.log('å¼€å§‹åˆå§‹åŒ–èŠå¤©é€šçŸ¥ç®¡ç†å™¨...');
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOMå·²åŠ è½½ï¼Œåˆ›å»ºChatNotificationManagerå®ä¾‹...');
            
            try {
                window.testChatManager = new ChatNotificationManager();
                console.log('ChatNotificationManageråˆ›å»ºæˆåŠŸï¼');
                
                // æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
                setTimeout(() => {
                    const manager = document.getElementById('chat-notification-manager');
                    const icon = document.getElementById('notification-icon');
                    
                    console.log('Managerå…ƒç´ :', manager);
                    console.log('Iconå…ƒç´ :', icon);
                    
                    if (manager && icon) {
                        console.log('âœ… èŠå¤©é€šçŸ¥ç®¡ç†å™¨å…ƒç´ å·²æ­£ç¡®åˆ›å»º');
                        console.log('ç°åœ¨å¯ä»¥å°è¯•æ‹–æ‹½è“è‰²åœ†åœˆå›¾æ ‡');
                    } else {
                        console.error('âŒ èŠå¤©é€šçŸ¥ç®¡ç†å™¨å…ƒç´ æœªæ‰¾åˆ°');
                    }
                }, 100);
                
            } catch (error) {
                console.error('åˆ›å»ºChatNotificationManageræ—¶å‡ºé”™:', error);
            }
        });
    </script>
</body>
</html>
